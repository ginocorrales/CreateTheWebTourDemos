(function(k,i,l){function n(e,b){var c;try{if(c=parseFloat(e),/%/.exec(e)){var a=parseFloat(b);c*=a/100}}catch(h){return 0}return c}var o=Math.PI/180,p=i.Matrix4x4,j=l.getNumber;p.prototype.rightMultiply=p.prototype.rightMultiply||function(e){for(var b=Array(4),c=0;c<4;c++)for(var a=b[c]=0;a<4;a++)b[c]+=e[a]*this[a][c];return b};var q=/TransformOrigin:([a-z0-9\s%\-\.]*);/,r=/TransformOrigin:([a-z0-9\s%\-\.]*)$/,s=/TransformOrigin/;l.applyTransform=function(e,b){var c=k(e),a=l.getNumber(b.rotateY),
h=l.getNumber(b.rotateX),a=b.scaleX*Math.cos(o*a),h=b.scaleY*Math.cos(o*h),m="translate("+b.translateX+","+b.translateY+")";m+=" rotate("+b.rotateZ+")";m+=" skew("+b.skewX+", "+b.skewY+")";m+=" scale("+a+","+h+")";var g=i.Matrix4x4.fromCSSMatrixString(m);c.each(function(c,a){var f=k(a);if(!f.data("ieTransformData")){var b=j(f.css("top")),e=j(f.css("left")),d=j(f.css("width")),h=j(f.css("height"));f.data("ieTransformData",{top:typeof b==="number"?b:0,left:typeof e==="number"?e:0,originalTx:g[3][0],
originalTy:g[3][1],width:typeof d==="number"?d:0,height:typeof h==="number"?h:0})}});a=c[0].style.filter;if(typeof a==="string"&&/DXImageTransform.Microsoft.Matrix/.exec(a))c[0].filters.item("DXImageTransform.Microsoft.Matrix").M11=g[0][0],c[0].filters.item("DXImageTransform.Microsoft.Matrix").M12=g[1][0],c[0].filters.item("DXImageTransform.Microsoft.Matrix").M21=g[0][1],c[0].filters.item("DXImageTransform.Microsoft.Matrix").M22=g[1][1],c[0].filters.item("DXImageTransform.Microsoft.Matrix").SizingMethod=
"auto expand";else{h="progid:DXImageTransform.Microsoft.Matrix(M11="+g[0][0]+",M12="+g[1][0]+",M21="+g[0][1]+",M22="+g[1][1]+',SizingMethod="auto expand")';typeof a==="string"&&(h=a+" "+h);try{c[0].style.filter=h}catch(v){}}c.each(function(c,a){var f;var b=k(a),e=b[0].clientWidth,b=b[0].clientHeight,d=a.style.cssText;f=q.exec(d)||r.exec(d);!f&&s.exec(d)&&window.console.log("Found a TransformOrigin but no matches!! cssText is '"+d+"'");d=["50%","50%"];f?(d=i.trimString(f[1]).split(" "),d[0]=n(d[0],
e),d[1]=n(d[1],b),f=d):f=void 0;e=g[3][0];b=g[3][1];f&&(d=[f[0]-a.clientWidth/2,f[1]-a.clientHeight/2,0,0],g[3][0]=g[3][1]=0,d=g.rightMultiply(d),e-=d[0]-f[0]+a.clientWidth/2,b-=d[1]-f[1]+a.clientHeight/2);d=k(a);f=d.data("ieTransformData");var h=j(d.css("width"));j(d.css("height"));a.clientWidth||j(d.css("width"));e+=a.clientWidth?(a.clientWidth-a.offsetWidth)/2:(f.width-h)/2;b+=(a.clientHeight-a.offsetHeight)/2;b=f.top+b;a.style.left=f.left+e+"px";a.style.top=b+"px"})};var t=i.PropertyTween.prototype.update,
u={top:!0,left:!0,width:!0,height:!0};i.PropertyTween.prototype.update=function(e,b,c){t.call(this,e,b,c);var e=this.getElementSet(c),a=this.property;u[a]&&e.each(function(b,c){var e=k(c),i=e.data("ieTransformData");typeof i==="undefined"&&(i={},e.data("ieTransformData",i));i[a]=j(e.css(a))})}})(window.jQuery,window.jQuery.Edge,window.jQuery.Edge.TransformTween);
