<!--
	Copyright (C) 2012 Adobe Systems, Incorporated. All rights reserved.
	Unless otherwise noted, the code and content is
	licensed under a Public Domain License
	<http://creativecommons.org/publicdomain/zero/1.0/>.
-->
<!doctype html>
<html>
<head>
	<title>CSS Regions styling</title>
    <script src="../modernizr.js" type="text/javascript"></script>
    <script src="../css-regions.js" type="text/javascript"></script>
	<script type="text/javascript">
	var phase = 0;
	function toggleRegionLayout() {
		var regionsContainer = document.getElementById('regions-container');
		regionsContainer.classList.toggle('non-visible');
		var regions = regionsContainer.querySelectorAll('.region');
		for (var i = 0; i < regions.length; i++) {
			regions[i].classList.toggle('flow-from');
		}

		var article = document.querySelector('article');
		article.classList.toggle('flow-to');
	}
	function toggleRegionStyle() {
		var article = document.querySelector('article');
		article.classList.toggle('region-style');
	}

	document.addEventListener('DOMContentLoaded', function() {
		var applyStylingButton = document.getElementById('apply-region-styling');
		applyStylingButton.addEventListener('click', function(e) {
			toggleRegionStyle();
			toggleRegionLayout();
		});
	});
	</script>
	<link href='http://fonts.googleapis.com/css?family=Ubuntu:400,700,400italic,700italic|Russo+One' rel='stylesheet' type='text/css'/>
	<style type="text/css">
	body {
		width: 100%;
		height: 100%;
		/*background-color: #6A8BAB;*/
	}
	p {
		margin: 0;
	}
	h1, h2 {
		margin-top: 0;
		padding-top: .25em;
	}
	#apply-region-styling {
		position: absolute;
		display: block;
		z-index: 1000;
		
		background: rgb(232,4,53); /* Old browsers */
        background: -moz-linear-gradient(-45deg,  rgba(232,4,53,1) 0%, rgba(109,0,25,1) 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,rgba(232,4,53,1)), color-stop(100%,rgba(109,0,25,1))); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(-45deg,  rgba(232,4,53,1) 0%,rgba(109,0,25,1) 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(-45deg,  rgba(232,4,53,1) 0%,rgba(109,0,25,1) 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(-45deg,  rgba(232,4,53,1) 0%,rgba(109,0,25,1) 100%); /* IE10+ */
        background: linear-gradient(-45deg,  rgba(232,4,53,1) 0%,rgba(109,0,25,1) 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e80435', endColorstr='#6d0019',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
        
        color: white;
        font-family: sans-serif;
        text-shadow: 1px -1px solid rgba(0, 0, 0, 0.5);
        text-decoration: none;
        padding: 1em;
        text-align: center;
        border-radius: 0.5em;
        box-shadow: 0.1em 0.1em 0.5em rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.5);
        top: 0.5em;
        -webkit-transform: rotate(-25deg);
        -moz-transform: rotate(-25deg);
        -ms-transform: rotate(-25deg);
        -o-transform: rotate(-25deg);
        transform: rotate(-25deg);
        cursor: pointer;
	}
	
	
	#apply-region-styling span{
	    display: block;
	    font-size: smaller;
	    
	}

	article p {
		font-family: sans-serif;
		padding-left: 1.3em;
		padding-right: 1em;
		margin-bottom: 1em;
	}
	
	article ul {
		padding-right: .5em;
		font-family: sans-serif;
	}
	
	article h1, article h2 {
		font-family: sans-serif;
		font-weight: bold;
		padding-left: 0.5em;
		padding-bottom: 0.3em;
		font-variant: small-caps;
		color: rgba(0, 0, 0, 0.7);
		letter-spacing: -0.07em;
	}

	#regions-container {
		margin-left: auto;
		margin-right: auto;
		width: 80%;
		height: 90%;
	}
	.non-visible {
		display: none;
	}
	.flow-to {
		-webkit-flow-into: article;
	}
	.flow-from {
		-webkit-flow-from: article;
	}

	.region {
        background: #fafafa;
        box-shadow: 0.1em 0.1em 0.5em rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(0, 0, 0, 0.2);
		position: absolute;
		height: 90%;
		top: 5%;
	}

    @-webkit-region .left-region {
    	.region-style h2 {
    		background-color: white;
    	}

    	.region-style h1 {
    	    background-color: rgba(255, 255, 255, 0.5);
    	}
    	.region-style h1~p:nth-of-type(1) {
    		background-color: #c0c0c0;
    	}

    	.region-style {
    		background-color: #f0f0f0;
    	}
    }
    @-webkit-region .right-region {
    	.region-style h2 {
    		background-color: #46A4E9;
    	}
    	.region-style {
    		background-color: #e0e0e0
    	}
    }

	.left-region {
		width: 40%;
		left: 8%;
	}
	.right-region {
		width: 40%;
		left: 54%;

		-webkit-region-overflow: break;
		overflow: hidden;
	}
	
	.image-wrap {
		text-align: center;
		display: block;
	}
	.image-wrap>img {
		width: 75%;
		max-width: 35em;
		margin-bottom: 1em;
	}

    .warning {
		border: 1px solid black;
		color: red;
		margin: 5px;
		padding: 2px;
		font-size: 1.2em;
		display: none;
	}

	.no-regions .warning {
		display:block;
	}

    .no-regions #apply-region-styling {
        display: none;
    }
	</style>
</head>
<body>
    <div id="regionsNotSupportedMsg" class="warning">
		Your browser does not appear to support CSS Regions, which is required by this demo. Try it in <a href="http://nightly.webkit.org/">WebKit nightly</a> or Chrome 16+ with <em>CSS Regions</em> flag enabled (in Chrome 23+ CSS Regions are enabled under the <em>experimental WebKit features</em> flag).
	</div>
	<a href="#" id="apply-region-styling">toggle<span>region styling!</span></a>
	<article>
		<h1>Filler text on the web</h1>
		<span class='image-wrap'><img src='img/movable_type.jpg'/></span>
		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed augue velit, fringilla eu laoreet vel, blandit eu odio. Nam quis libero vel nibh viverra lacinia et hendrerit nibh. Donec orci ante, tristique quis vestibulum eu, varius nec tellus. Ut id mi turpis. Proin sed risus sed neque vehicula imperdiet.</p>
		<h2>A little history</h2>
		<p>Nunc lacus orci, consequat id faucibus ac, hendrerit ut eros. Mauris a dui non dolor ullamcorper molestie. Donec pulvinar diam sit amet mauris egestas dictum. Nunc vel mattis lorem. Cras elementum, libero at consequat lacinia, magna purus consequat elit, vitae eleifend arcu eros ac mi. Etiam eu nibh et ante tristique condimentum non id velit. Integer ipsum lectus, viverra eget tempus vel, placerat ac purus. Integer ac enim quis libero adipiscing varius nec at nunc.</p>
		<h2>Why use it?</h2>
		<p>Donec iaculis, ipsum id molestie eleifend, lectus mauris condimentum ligula, et dictum lacus arcu et elit. Sed sagittis nisi id quam mattis in pellentesque felis pretium. Sed id urna diam.</p>
		<h2>How to use it?</h2>
		<p>Pellentesque aliquet lorem a neque lacinia eu condimentum urna fermentum. Fusce eget elit et lacus rutrum faucibus non a sem. Praesent eu tortor non dui adipiscing ultricies viverra non mi. Sed non ante nec augue auctor blandit. Nunc cursus interdum scelerisque. Pellentesque id leo a elit molestie pellentesque. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque pharetra sem et ipsum pellentesque sed gravida elit adipiscing. In elementum porttitor placerat. Aenean eget arcu aliquam turpis commodo eleifend non eu dolor.</p>
		<h2>Variations</h2>
		<p>Praesent vehicula, dolor a malesuada auctor, nisi enim molestie nulla, eget imperdiet erat dolor ac eros. Maecenas dictum pellentesque eleifend. Sed elit dui, ornare ac sagittis non, congue et ipsum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam molestie consectetur metus at rhoncus. Suspendisse potenti. Mauris porttitor, purus vel luctus pellentesque, ligula dolor elementum neque, eget viverra magna mi sed massa. Fusce viverra lobortis porttitor. Integer imperdiet tellus vel neque pretium rutrum. In hac habitasse platea dictumst. Aliquam nec mollis nisl</p>
		<h2>Attributions</h2>
		<p>
			<ul>
				<li>Image by <strong>Willi Heidelbach</strong> [GFDL, CC-BY-SA-3.0 or CC-BY-2.5] via Wikimedia Commons (<a href="http://commons.wikimedia.org/wiki/File:Metal_movable_type.jpg#Summary">Permission Info</a>)</li>
				<li>Text created via <a href="http://www.lipsum.com/">www.lipsum.com</a></li>
				<li><strong>Ubuntu</strong> and <strong>Changa One</strong> fonts via <a href="http://www.google.com/webfonts">Google WebFonts</a></li>
			</ul>
		</p>
	</article>
	<div id="regions-container" class='non-visible'>
		<div class="region left-region"></div>
		<div class="region right-region"></div>
	</div>
</body>
</html>